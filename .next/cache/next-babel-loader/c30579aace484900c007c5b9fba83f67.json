{"ast":null,"code":"import produce from \"immer\";\nconst initailState = {\n  previewImage: null,\n  //\n  st_imageUploadLoading: false,\n  st_imageUploadDone: false,\n  st_imageUploadError: null,\n  //\n  st_feedCreateLoading: false,\n  st_feedCreateDone: false,\n  st_feedCreateError: null\n};\nexport const IMAGE_UPLOAD_REQUEST = \"IMAGE_UPLOAD_REQUEST\";\nexport const IMAGE_UPLOAD_SUCCESS = \"IMAGE_UPLOAD_SUCCESS\";\nexport const IMAGE_UPLOAD_FAILURE = \"IMAGE_UPLOAD_FAILURE\"; //\n\nexport const FEED_CREATE_REQUEST = \"FEED_CREATE_REQUEST\";\nexport const FEED_CREATE_SUCCESS = \"FEED_CREATE_SUCCESS\";\nexport const FEED_CREATE_FAILURE = \"FEED_CREATE_FAILURE\";\n\nconst reducer = (state = initailState, action) => produce(state, draft => {\n  switch (action.type) {\n    case IMAGE_UPLOAD_REQUEST:\n      {\n        draft.st_imageUploadLoading = true;\n        draft.st_imageUploadDone = false;\n        draft.st_imageUploadError = null;\n        break;\n      }\n\n    case IMAGE_UPLOAD_SUCCESS:\n      {\n        // 서버에서 이미지 주소를 반환한다. => action.data   return res.status(200).json({ path : 진짜 이미지 주소 })\n        draft.st_imageUploadLoading = false;\n        draft.st_imageUploadDone = true;\n        draft.st_imageUploadError = null;\n        draft.previewImage = action.data.path;\n        break;\n      }\n\n    case IMAGE_UPLOAD_FAILURE:\n      {\n        draft.st_imageUploadLoading = false;\n        draft.st_imageUploadDone = false;\n        draft.st_imageUploadError = action.data;\n        break;\n      }\n\n    default:\n      break;\n  }\n});\n\nexport default reducer;","map":{"version":3,"sources":["/Users/njs/Documents/4leaf-education/next_app/reducers/feed.js"],"names":["produce","initailState","previewImage","st_imageUploadLoading","st_imageUploadDone","st_imageUploadError","st_feedCreateLoading","st_feedCreateDone","st_feedCreateError","IMAGE_UPLOAD_REQUEST","IMAGE_UPLOAD_SUCCESS","IMAGE_UPLOAD_FAILURE","FEED_CREATE_REQUEST","FEED_CREATE_SUCCESS","FEED_CREATE_FAILURE","reducer","state","action","draft","type","data","path"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,YAAY,EAAE,IADK;AAEnB;AACAC,EAAAA,qBAAqB,EAAE,KAHJ;AAInBC,EAAAA,kBAAkB,EAAE,KAJD;AAKnBC,EAAAA,mBAAmB,EAAE,IALF;AAMnB;AACAC,EAAAA,oBAAoB,EAAE,KAPH;AAQnBC,EAAAA,iBAAiB,EAAE,KARA;AASnBC,EAAAA,kBAAkB,EAAE;AATD,CAArB;AAYA,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B;AACP,OAAO,MAAMC,oBAAoB,GAAG,sBAA7B,C,CACP;;AACA,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;AACP,OAAO,MAAMC,mBAAmB,GAAG,qBAA5B;;AAEP,MAAMC,OAAO,GAAG,CAACC,KAAK,GAAGf,YAAT,EAAuBgB,MAAvB,KACdjB,OAAO,CAACgB,KAAD,EAASE,KAAD,IAAW;AACxB,UAAQD,MAAM,CAACE,IAAf;AACE,SAAKV,oBAAL;AAA2B;AACzBS,QAAAA,KAAK,CAACf,qBAAN,GAA8B,IAA9B;AACAe,QAAAA,KAAK,CAACd,kBAAN,GAA2B,KAA3B;AACAc,QAAAA,KAAK,CAACb,mBAAN,GAA4B,IAA5B;AACA;AACD;;AACD,SAAKK,oBAAL;AAA2B;AACzB;AACAQ,QAAAA,KAAK,CAACf,qBAAN,GAA8B,KAA9B;AACAe,QAAAA,KAAK,CAACd,kBAAN,GAA2B,IAA3B;AACAc,QAAAA,KAAK,CAACb,mBAAN,GAA4B,IAA5B;AACAa,QAAAA,KAAK,CAAChB,YAAN,GAAqBe,MAAM,CAACG,IAAP,CAAYC,IAAjC;AACA;AACD;;AACD,SAAKV,oBAAL;AAA2B;AACzBO,QAAAA,KAAK,CAACf,qBAAN,GAA8B,KAA9B;AACAe,QAAAA,KAAK,CAACd,kBAAN,GAA2B,KAA3B;AACAc,QAAAA,KAAK,CAACb,mBAAN,GAA4BY,MAAM,CAACG,IAAnC;AACA;AACD;;AAED;AACE;AAvBJ;AAyBD,CA1BM,CADT;;AA6BA,eAAeL,OAAf","sourcesContent":["import produce from \"immer\";\n\nconst initailState = {\n  previewImage: null,\n  //\n  st_imageUploadLoading: false,\n  st_imageUploadDone: false,\n  st_imageUploadError: null,\n  //\n  st_feedCreateLoading: false,\n  st_feedCreateDone: false,\n  st_feedCreateError: null,\n};\n\nexport const IMAGE_UPLOAD_REQUEST = \"IMAGE_UPLOAD_REQUEST\";\nexport const IMAGE_UPLOAD_SUCCESS = \"IMAGE_UPLOAD_SUCCESS\";\nexport const IMAGE_UPLOAD_FAILURE = \"IMAGE_UPLOAD_FAILURE\";\n//\nexport const FEED_CREATE_REQUEST = \"FEED_CREATE_REQUEST\";\nexport const FEED_CREATE_SUCCESS = \"FEED_CREATE_SUCCESS\";\nexport const FEED_CREATE_FAILURE = \"FEED_CREATE_FAILURE\";\n\nconst reducer = (state = initailState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case IMAGE_UPLOAD_REQUEST: {\n        draft.st_imageUploadLoading = true;\n        draft.st_imageUploadDone = false;\n        draft.st_imageUploadError = null;\n        break;\n      }\n      case IMAGE_UPLOAD_SUCCESS: {\n        // 서버에서 이미지 주소를 반환한다. => action.data   return res.status(200).json({ path : 진짜 이미지 주소 })\n        draft.st_imageUploadLoading = false;\n        draft.st_imageUploadDone = true;\n        draft.st_imageUploadError = null;\n        draft.previewImage = action.data.path;\n        break;\n      }\n      case IMAGE_UPLOAD_FAILURE: {\n        draft.st_imageUploadLoading = false;\n        draft.st_imageUploadDone = false;\n        draft.st_imageUploadError = action.data;\n        break;\n      }\n\n      default:\n        break;\n    }\n  });\n\nexport default reducer;\n"]},"metadata":{},"sourceType":"module"}